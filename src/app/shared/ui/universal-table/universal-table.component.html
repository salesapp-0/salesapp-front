<p-table
  [value]="data?.data"
  [rows]="rows"
  [tableStyle]="{ 'min-width': '50rem' }"
  [paginator]="false"
  [totalRecords]="totalRecords"
  [rowsPerPageOptions]="rowsPerPageOptions"
>
  <ng-template pTemplate="header">
    <tr>
      <th *ngFor="let col of columns" [style.width]="col.width || 'auto'">
        {{ col.title }}
        <ng-container *ngIf="hasIcon">
          <i class="pi pi-sort"></i>
        </ng-container>
      </th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-item>
    <tr>
      <td *ngFor="let col of columns">
        @if (col.field === 'icons') {
            <div class="flex justify-evenly">
                <i *ngIf="col.icons?.edit" (click)="actionType.emit({
                    type:crudEnum.UPDATE,
                    actionId:item.id,
                    tabType:tabType
                })" class="pi pi-pencil cursor-pointer text-accent"  ></i>
                <i *ngIf="col.icons?.delete" (click)="actionType.emit({
                    type:crudEnum.DELETE,
                    actionId:item.id,
                    tabType:tabType
                })"  class="pi pi-trash cursor-pointer text-accent" ></i>
            </div>
        } @else {
            {{ item[col.field] }}
        }
      </td>
    
    </tr>
  </ng-template>
</p-table>

<div class="flex justify-center">
  <p-paginator
    [rows]="rows"
    [totalRecords]="data?.total"
    [rowsPerPageOptions]="rowsPerPageOptions"
    [showCurrentPageReport]="true"
    (onPageChange)="onPageChange($event)"
  ></p-paginator>
</div>
